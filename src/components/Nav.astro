---
import { readFileSync } from "node:fs";
import HangingLogo from "./HangingLogo.astro";
import { Image } from "astro:assets";

const lemonLogoSvg = readFileSync("./src/icons/lemon-logo.svg", {
  encoding: "utf8",
});
---

<a href="/"><HangingLogo /></a>
<nav
  class="sticky top-8 z-50 mx-auto flex w-11/12 max-w-[700px] -translate-y-1/2
       transform items-center justify-around rounded-full border-2 border-fujo-blue bg-white p-2
       font-hatch text-lg text-fujo-pink"
>
  <a class="lemon" href="/" set:html={lemonLogoSvg} />
  <a href="/projects">Projects</a>
  <a href="/about">About</a>
  <a href="/fujoshi">Fujoshi</a>
  <a href="/updates">Updates</a>
  <a href="/support">Support us</a>
</nav>

<style>
  nav {
    animation: pad linear both;
    animation-timeline: scroll();
    animation-range: entry 0% exit 5%;
  }
  .lemon {
    position: absolute;
    left: 20px;
    animation: appear linear both;
    animation-timeline: scroll();
    animation-range: entry 0% exit 5%;
    --color: theme("colors.fujo-pink");
  }

  .lemon :global(svg) {
    width: 20px;
    height: 20px;
    margin-right: 10px;
  }
  @keyframes pad {
    from {
      padding-left: 0;
    }
    to {
      padding-left: 30px;
    }
  }
  @keyframes appear {
    from {
      width: 0;
      opacity: 0;
    }
    to {
      width: 20px;
      opacity: 1;
    }
  }
</style>
