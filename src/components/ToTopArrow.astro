---
import { Icon } from "astro-icon/components";
---

<button
  type="button"
  aria-label="scroll to top"
  class="to-top fixed bottom-5 right-4 z-10 rounded-full border-2 border-black bg-white p-1 transition-all duration-200 md:bottom-48 md:right-10"
>
  <Icon name="arrow-bar-up" size={24} />
  <style>
    .to-top {
      box-shadow: 1px 1px 4px #00000077;
    }
  </style>

  <script>
    const toTopButton = document.querySelector<HTMLElement>(".to-top");

    document.addEventListener("scroll", () => {
      if (!toTopButton) {
        return;
      }
      if (window.scrollY > 250) {
        toTopButton.style.opacity = "1";
      } else {
        toTopButton.style.opacity = "0";
      }
    });

    toTopButton?.addEventListener("click", () => {
      window.scrollTo(0, 0);
    });

    console.log(window.scrollY);

    if (toTopButton) {
      if (window.scrollY > 250) {
        toTopButton.style.opacity = "1";
      } else {
        toTopButton.style.opacity = "0";
      }
    }
  </script></button
>
