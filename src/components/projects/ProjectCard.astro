---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";
import TagList from "../TagList.astro";
import { Icon } from "astro-icon/components";
import CategoryList from "../CategoryList.astro";

type Props = CollectionEntry<"projects">["data"];

const { name, preview, description, tags, categories, websites } = Astro.props;
---

<div
  class="project relative z-10 rounded-2xl text-lg text-fujo-purple p-4 border border-slate-300"
>
  <div class="flex flex-col md:flex-row gap-4">
    <div class="w-1/3">
      <a href={websites[0].url}>
        <Image
          class="block rounded-lg "
          src={preview}
          alt={name}
        />
      </a>
      </div>
    <div class="flex-1">
      <h3 class="font-macho font-bold not-italic text-3xl text-fujo-pink mt-0">
        <a href={websites[0].url} class="!no-underline !text-fujo-pink">{name}</a>
      </h3>
      <ul class="flex gap-2 mb-2">
        {
          websites.map((website) => {
            return (
              <li class="m-0">
                <a
                  href={website.url}
                  class="group m-0 flex items-center gap-3 py-1.5 !no-underline"
                >
                  <div class="flex rounded-lg bg-fujo-purple/10 p-2 group-hover:bg-fujo-purple/20">
                    <Icon
                      size={24}
                      aria-labelledby={
                        website.platform !== "web" ? "platform" : undefined
                      }
                      aria-label={
                        website.platform === "web" ? "website" : undefined
                      }
                      name={website.icon ?? "world-www"}
                      class="flex-shrink-0"
                    />
                  </div>
                </a>
              </li>
            );
          })
        }
      </ul>
      {!!categories.length && (
        <CategoryList categories={categories} />
      )}
      <p set:html={description} class="mt-4" />
    </div>
  </div>
  <div class="space-y-4 mt-4">
    {!!tags.length && (
      <TagList tags={tags} />
    )}
</div>
</div>

<style>
    
</style>
