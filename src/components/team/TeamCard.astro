---
import { Icon } from "astro-icon/components";
import type { SocialsData } from "../../lib/socials-transformer";
import { Image } from "astro:assets";

interface Props {
  name: string;
  avatar: string;
  contacts: SocialsData[];
}

const { name, contacts, avatar } = Astro.props;
---

<div class="flex flex-col gap-4 rounded-xl bg-white drop-shadow-lg m-4 p-6 max-w-lg mx-auto">
  <h4 class="flex flex-wrap items-end gap-x-3 gap-y-1 font-hatch text-fujo-purple text-2xl"><Image class="rounded-xl object-cover" width={50} height={50} src={avatar} alt="" />{name}</h4>
  <ul class="flex flex-col gap-3">
    {
      contacts.map((contact) => {
        return (
          <li class="flex gap-3">
            <a href={contact.url}>
              <Icon size={24} 
              aria-labelledby={contact.platform !== "web" ? "platform" : undefined} 
              aria-label={contact.platform === "web" ? "website" : undefined }
              name={contact.icon ?? "world-www"} />
              </a>
              <a href={contact.url}>
                {contact.platform !== "web" && <span class="sr-only sm:not-sr-only" id="platform">{contact.platform}: </span>}{contact.username ? `@${contact.username}` :  contact.url}</a>
          </li>
        );
      })
    }
  </ul>
</div>
